#!/bin/sh

LIST=$(df -aTh | grep "/dev/sd[b-z]" | awk '{print $1" ("$3")"}')

[ -z "$LIST" ] &&
        notify-send "No drives to unmount" && exit

DRIVE=$(echo "$LIST" | dmenu -p "Unmount which drive?" | cut -d' ' -f1)

[ -z "$DRIVE" ] && exit

if $(sudo umount "$DRIVE"); then
        notify-send "$DRIVE unmounted"
        exit
fi
notify-send "Unmount failed"
